<div fxLayout
 fxLayoutAlign="center"
 ngClass="contentTickets"
 fxLayoutGap="20px">

     <div fxFlex = "50%" fxFlexFill ngClass="tab-shadow">
        <mat-tab-group >
            <mat-tab label="Edytuj profil">

              <mat-card>
                <!-- <mat-card-header>
                    <mat-card-title>
                        <mat-checkbox (change)="Swap($event)">
                            zmiana email
                          </mat-checkbox>
                    </mat-card-title>
                  </mat-card-header> -->
              <mat-card-content>

                <form [formGroup]="editProfileForm" (ngSubmit)=changeProfile()>
<!--
                  <mat-form-field class="full-width-input">
                    <input matInput placeholder="email" formControlName="email" required>
                  </mat-form-field>
                  <div [ngClass]="'error-msg'" *ngIf="editProfileForm.controls['email'].errors?.emailExist">zajety email</div>
                  <div [ngClass]="'error-msg'" *ngIf="email.errors?.email && email.touched">zly format email</div>
 -->

                  <mat-form-field class="full-width-input">
                    <input matInput placeholder="First name" formControlName="first_name" required>
                  </mat-form-field>
                  <div [ngClass]="'error-msg'" *ngIf="first_name?.touched && first_name.invalid">Pole Wymagane</div>

                  <mat-form-field class="full-width-input">
                    <input matInput placeholder="Last name" formControlName="last_name" required>
                  </mat-form-field>
                  <div [ngClass]="'error-msg'" *ngIf="last_name?.touched && last_name.invalid">Pole Wymagane</div>

                  <mat-form-field class="full-width-input">
                    <input matInput placeholder="Street" formControlName="street" required>
                  </mat-form-field>
                  <div [ngClass]="'error-msg'" *ngIf="street?.touched && street.invalid">Pole Wymagane</div>


                  <mat-form-field class="full-width-input">
                    <input matInput placeholder="City" formControlName="city" required>
                  </mat-form-field>
                  <div [ngClass]="'error-msg'" *ngIf="city?.touched && city.invalid">Pole Wymagane</div>


                  <mat-form-field class="full-width-input">
                    <input matInput placeholder="Postal code" formControlName="postal_code" required>
                  </mat-form-field>
                  <div [ngClass]="'error-msg'" *ngIf="postal_code?.touched && postal_code.invalid">Wprowadź poprawny numer: XX-XXX</div>


                  <mat-form-field class="full-width-input">
                    <input matInput placeholder="Phone" formControlName="phone" required>
                  </mat-form-field>
                  <div [ngClass]="'error-msg'" *ngIf="phone?.touched && phone.invalid">Wprowadź poprawny numer: 9 cyfr</div>

                  <br>
                  <button mat-raised-button  color="primary" type="submit" [disabled]="editProfileForm.invalid" >Zmień</button>
                </form>

              </mat-card-content>
              </mat-card>
            </mat-tab>

            <mat-tab label="Zmień hasło">

              <mat-card>
              <mat-card-content>
                <form [formGroup]="changePasswordForm" (ngSubmit)=changePassword()>

                  <mat-form-field class="full-width-input">
                    <input matInput type="password" placeholder="Nowe hasło" formControlName="new_password" required>
                  </mat-form-field>
                  <div [ngClass]="'error-msg'" *ngIf="new_password?.touched && new_password.invalid">Pole Wymagane</div>

                  <mat-form-field class="full-width-input">
                    <input matInput type="password" placeholder="Powtórz hasło" formControlName="confirm_password" required>
                  </mat-form-field>
                  <div [ngClass]="'error-msg'" *ngIf="confirm_password?.touched && confirm_password.errors?.MatchFields">hasła muszą być identyczne</div>
                  <div [ngClass]="'error-msg'" *ngIf="confirm_password?.touched && confirm_password.errors?.required">Pole Wymagane</div>

                  <mat-form-field class="full-width-input">
                    <input matInput type="password" placeholder="stare hasło" formControlName="password" required>
                  </mat-form-field>
                  <div [ngClass]="'error-msg'" *ngIf="password.errors?.badPass">Złe hasło</div>
                  <div [ngClass]="'error-msg'" *ngIf="password?.touched && password.errors?.required">Pole Wymagane</div>

                  <br>
                  <button mat-raised-button  color="primary" type="submit" [disabled]="changePasswordForm.invalid" >Zmień</button>
                </form>
              </mat-card-content>
              </mat-card>
            </mat-tab>
          </mat-tab-group>
    </div>
</div>


<h1>{{checked}}</h1>
